# Reading the input CSV and processing each track
with open(input_file, mode='r', newline='', encoding='utf-8') as infile:
    csvreader = csv.reader(infile)
    next(csvreader)  # Skip header if there is one (adjust if needed)
    
    # Open output file to write results
    with open(output_file, mode='w', newline='', encoding='utf-8') as outfile:
        csvwriter = csv.writer(outfile)
        csvwriter.writerow(['Title', 'Language'])  # Writing header
        
        # Loop through each row (Spotify link) in the CSV
        for row in csvreader:
            track_link = row[0]  # Assuming the first column contains the link
            print(f"Processing: {track_link}")

            # Get the language for the track
            language = get_language_for_track(track_link)

            # Write the result to the output CSV
            csvwriter.writerow([track_link, language])

print(f"Processing complete. Results saved to {output_file}.")
